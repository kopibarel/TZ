[Источники событий]
    → [Сервис событий (Event Service)]
        → [Брокер сообщений (Kafka/RabbitMQ)]
            → [Сервис PUSH‑уведомлений (Push Service)]
                → [Firebase Cloud Messaging (FCM) / Apple Push Notification Service (APNs)]
                    → [Мобильное приложение пользователя]

[Админ‑панель]
    → [Сервис PUSH‑уведомлений (Push Service)]
        → [FCM / APNs]
            → [Мобильное приложение]

[Сервис PUSH‑уведомлений]
    ↔ [База данных шаблонов и статусов]
    ↔ [Сервис аутентификации (Auth Service)]

-Автоматические PUSH (на основе событий)
-Микросервис генерирует событие (например, «заказ отменён»).
-Event Service отправляет в брокер.
-Push Service получает событие, формирует уведомление, запрашивает device_token у Auth Service.
-Push Service отправляет в FCM/APNs.
-Пользователь получает PUSH.
-Ручные PUSH (из админ‑панели)
-Администратор создаёт рассылку в админ‑панели.
-Push Service получает запрос, выбирает пользователей по фильтрам (например, «все, кто добавил товар в корзину»).
-Для каждого пользователя: формирует текст, получает device_token, отправляет в FCM/APNs.
-Пользователи получают PUSH.
